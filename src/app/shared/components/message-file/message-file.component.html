<div>
    <ion-button fill="clear" class="message--file" [class.message--file--height]="file.type !== 'image/png' && file.type !== 'image/jpeg' && file.type !== 'image/jpg' && file.type !== 'image/gif'">
        <img *ngIf="file.type === 'image/png' || file.type === 'image/jpeg' || file.type === 'image/jpg' || file.type === 'image/gif'" class="message--image" [src]="file.value">
        <ion-label *ngIf="file.type !== 'image/png' && file.type !== 'image/jpeg' && file.type !== 'image/jpg' && file.type !== 'image/gif'" class="message--file--label">
            <ion-icon size="large" name="document-text-outline"></ion-icon>
            <h3>{{ file.name }}</h3>
        </ion-label>
    </ion-button>
    <ion-button *ngIf="(snapshot | async) as snap; else elseWaiting" class="message--image--button" fill="clear" color="warning" (click)="task.cancel() && removeFile(file)">
      <ion-icon slot="icon-only" name="close-circle-outline"></ion-icon>
    </ion-button>
    <ng-template #elseWaiting>
        <ion-button class="message--image--button" fill="clear" color="warning" (click)="removeFile(file)">
            <ion-icon slot="icon-only" name="close-circle-outline"></ion-icon>
        </ion-button>
    </ng-template>
    <div *ngIf="percentage | async as pct">
        <ion-progress-bar [value]="pct / 100" class="message--image--progress"></ion-progress-bar>
    </div>
</div>


<!-- <ion-list class="theme--list" *ngIf="file" lines="none" inset="true"> 
    <div>
        <div class="error" *ngIf="error">
            Incomplete team, folder, or file information.
        </div>
    </div>

    <ion-item class="theme--item upload--item ion-padding-end" *ngIf="!profilePicture">
        <ion-icon slot="start" [name]="'document-text' + '-outline'" *ngIf="!scan; else viewPreview"></ion-icon>
        <ng-template #viewPreview>
            <ion-thumbnail slot="start" (click)="enlargePreview()" button>
                <img [src]="scan.sanitizedPdf">
            </ion-thumbnail>
        </ng-template>
        <ion-input class="form" [value]="file.name" (ionChange)="onNameChange($event)" placeholder="Add a file name">
        </ion-input>

    </ion-item>
    <div>
        <ion-button expand="block" color="tertiary" size="medium" (click)="startUpload()" [disabled]="downloadURL || !profilePicture && !file.name.length && !fileName.length">
            Upload
        </ion-button>
    </div>
    <ion-item class="theme--item upload--item">
        <ion-icon slot="start"></ion-icon>
        <ion-label *ngIf="percentage | async as pct; else zeroPct">
            <p>Upload status: {{ pct | number }}%</p>
        </ion-label>
        <ng-template #zeroPct>
            <ion-label>
                <p>Upload status: 0%</p>
            </ion-label>
        </ng-template>
        <ion-button slot="end" fill="clear" (click)="removeFile()" [disabled]="downloadURL">
            <ion-icon slot="icon-only" color="danger" name="close-circle-outline"></ion-icon>
        </ion-button>
    </ion-item>

    <div *ngIf="percentage | async as pct">
        <ion-progress-bar [value]="pct / 100"></ion-progress-bar>
        <ion-row class="ion-justify-content-center">
            <ion-text>{{ pct | number }}%</ion-text>
        </ion-row>
    </div>



    <div *ngIf="!downloadURL && (snapshot | async) as snap">
        <ion-row class="ion-justify-content-center">

            <ion-button color="secondary" (click)="task.pause()" [disabled]="!isActive(snap)">Pause</ion-button>
            <ion-button color="warning" (click)="task.cancel() && file = null" [disabled]="!isActive(snap)">Cancel
            </ion-button>
            <ion-button color="success" (click)="task.resume()" [disabled]="!(snap?.state === 'paused')">Resume
            </ion-button>

        </ion-row>
    </div>
</ion-list> -->