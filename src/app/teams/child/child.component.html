<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>
    <ion-title *ngIf="(team$ | async)">Child</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <ion-header collapse="condense">
    <ion-toolbar>
      <ion-title size="large" *ngIf="(team$ | async)">Child</ion-title>
    </ion-toolbar>
  </ion-header>

  <div id="container">
    <ion-card>
        <ion-card-header class="profile--pic--header">
            <ion-grid class="ion-padding">
                <ion-row class="ion-justify-content-center ion-padding">
                    <ion-col class="ion-justify-content-center" size="auto">
                        <ion-thumbnail class="avatar-thumbnail profile-thumbnail">
                            <img *ngIf="(team$ | async)?.url; else elseChildAvatar"
                                src="{{ (team$ | async)?.url }}">
                            <ng-template #elseChildAvatar>
                                <ngx-avatar name="{{ (team$ | async)?.child }}" [size]="150" [round]="false" [cornerRadius]="150">
                                </ngx-avatar>
                            </ng-template>
                        </ion-thumbnail>
                    </ion-col>
                </ion-row>
            </ion-grid>
        </ion-card-header>
        <ion-card-content>
            <ion-list>
                <ion-list-header>
                    Child Info
                </ion-list-header>
                <ion-item lines="none" *ngIf="team">
                    <ion-icon slot="start" name="happy-outline"></ion-icon>
                    <ion-label *ngIf="edit == false; else editName">
                        <h2 *ngIf="team.child"><strong>{{ team.child }}</strong></h2>
                    </ion-label>

                    <ng-template #editName>
                      <h2><strong>
                          <ion-input class="form" [(ngModel)]="team.child" placeholder="Add the child first name">
                          </ion-input>
                        </strong></h2>
                    </ng-template>
                </ion-item>
                <ion-item lines="none" *ngIf="team">
                    <ion-icon slot="start" name="book-outline"></ion-icon>
                    <ion-label *ngIf="edit == false; else editBio" text-wrap>
                        <h2 *ngIf="team.bio">{{ team.bio }}</h2>
                    </ion-label>

                    <ng-template #editBio>
                        <h2>
                            <ion-textarea class="form" [(ngModel)]="team.bio" placeholder="Add a bio, or tell a short story">
                            </ion-textarea>
                        </h2>
                      </ng-template>
                </ion-item>
            </ion-list>
            <ion-button [disabled]="edit" (click)="edit = true">Edit</ion-button>
            <ion-button [disabled]="!edit" (click)="updateTeamInfo()">Save</ion-button>
        </ion-card-content>
    </ion-card>
  </div>  

</ion-content>
